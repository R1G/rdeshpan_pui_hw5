<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Muddy Paws Adventure Gear</title>
    <meta name="author" content="Rigved Deshpande">

    <link rel="stylesheet" href="styles.css">

  </head>

  <body>
    <!-- logo -->
    <a href="index.html" class="logo" id="small-logo">
      <h1>Muddy Paws</h1>
      <h2>Adventure Gear</h2>
    </a>

    <a href="products.html" class="escape">Back to browse</a>

    <div class="purchase-options">
      <!-- product image-->
      <div class="column product-view">
        <!--h1>Dog Harness</h1-->
        <!--img class="product-image" src="Images/dog_harness.jpg" alt="dog harness"/-->
      </div>

      <!-- sizes-->
      <div class="column size-boxes">
        <div data-size="xs" class="box">XS</div>
        <div data-size="s" class="box">S</div>
        <div data-size="m" class="box">M</div>
        <div data-size="l" class="box">L</div>
      </div>

      <!-- colors-->
      <div class="column color-boxes">
        <div class="box" style="background-color:red;">Strawberry</div>
        <div class="box" style="background-color:rebeccapurple;">Blackberry</div>
        <div class="box" style="background-color:hotpink;">Crazyberry</div>
        <div class="box" style="background-color:orange;">Fire Orange</div>
      </div>

      <div class="column">
        <div class="pricing">
          <!--h1>$34.99</h1-->
        </div>

        <a href="purchase.html" class="button green right">Add to Cart</a>
        <a href="checkout.html" class="button orange right">Checkout</a>

      </div>
      
    </div>
    <script>

    (function() {

        const productViewContainer = document.querySelector('.product-view');
        const selectedProduct = localStorage.getItem('selectedProduct');
        productViewContainer.insertAdjacentHTML('beforeend', `<h1>${selectedProduct}</h1>`);
        var imagePath = "Images/" + selectedProduct + ".jpg";
        productViewContainer.insertAdjacentHTML('beforeend', `<img class="product-image" src=${imagePath}>`);

        const boxesContainer = document.querySelector('.size-boxes');
        let selectedSizeBox;

        const selectedSize = localStorage.getItem('selectedSize');

        if (selectedSize) {
          selectedSizeBox = document.querySelector(`[data-size=${selectedSize}]`);
          selectedSizeBox.classList.add('selected-size');
        }

        boxesContainer.addEventListener('click', function (event) {
            if (selectedSizeBox) {
                selectedSizeBox.classList.remove('selected-size');
            }
            selectedSizeBox = event.target;
            selectedSizeBox.classList.add('selected-size');
            localStorage.setItem('selectedSize', event.target.getAttribute('data-size'));
        });
    }());

    </script>
  </body>
</html>